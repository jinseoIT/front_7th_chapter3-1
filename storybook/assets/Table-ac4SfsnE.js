import{j as a}from"./jsx-runtime-D_zvdyIk.js";import{r as n,R as L}from"./iframe-BSnAbuZu.js";import{c as d}from"./index-B8k91cqS.js";const O=d("table-container"),_=d("table",{variants:{striped:{true:"table-striped"},bordered:{true:"table-bordered"},hover:{true:"table-hover"}}}),B=d("table-search-input w-full max-w-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"),$=d("table-pagination"),V=d("table-pagination-button",{variants:{disabled:{true:"disabled",false:"bg-blue-600 text-white hover:bg-blue-700 cursor-pointer"}},defaultVariants:{disabled:!1}}),F=({columns:w,data:p=[],striped:N=!1,bordered:S=!1,hover:q=!1,pageSize:m=10,searchable:b=!1,sortable:u=!1,onRowClick:h,className:k})=>{const[l,x]=n.useState(p),[r,v]=n.useState(1),[f,D]=n.useState(""),[g,E]=n.useState(""),[y,P]=n.useState("asc");n.useEffect(()=>{x(p)},[p]);const M=e=>{if(!u)return;const t=g===e&&y==="asc"?"desc":"asc";E(e),P(t);const s=[...l].sort((A,I)=>{const o=A[e],c=I[e];return typeof o=="number"&&typeof c=="number"?t==="asc"?o-c:c-o:t==="asc"?String(o).localeCompare(String(c)):String(c).localeCompare(String(o))});x(s)},j=b&&f?l.filter(e=>Object.values(e).some(t=>String(t).toLowerCase().includes(f.toLowerCase()))):l,T=j.slice((r-1)*m,r*m),i=Math.ceil(j.length/m),C=w||(l[0]?Object.keys(l[0]).map(e=>({key:e,header:e})):[]),R=(e,t)=>{const s=e[t.key];return t.render?t.render(s,e):L.isValidElement(s)?s:String(s??"")};return a.jsxs("div",{className:O(),children:[b&&a.jsx("div",{className:"mb-4",children:a.jsx("input",{type:"text",placeholder:"검색...",value:f,onChange:e=>D(e.target.value),className:B()})}),a.jsxs("table",{className:_({striped:N,bordered:S,hover:q,className:k}),children:[a.jsx("thead",{children:a.jsx("tr",{children:C.map(e=>a.jsx("th",{style:e.width?{width:e.width}:void 0,onClick:()=>u&&e.sortable!==!1&&M(e.key),children:a.jsxs("div",{className:`flex items-center gap-1 ${u&&e.sortable!==!1?"cursor-pointer select-none":"cursor-default"}`,children:[e.header,u&&g===e.key&&a.jsx("span",{className:"text-blue-600",children:y==="asc"?"↑":"↓"})]})},e.key))})}),a.jsx("tbody",{children:T.map((e,t)=>a.jsx("tr",{onClick:()=>h?.(e),className:h?"cursor-pointer transition-colors":"",children:C.map(s=>a.jsx("td",{className:"whitespace-nowrap",children:R(e,s)},s.key))},t))})]}),T.length===0&&a.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text-muted)"},children:"데이터가 없습니다."}),i>1&&a.jsxs("div",{className:$(),children:[a.jsx("button",{onClick:()=>v(e=>Math.max(1,e-1)),disabled:r===1,className:V({disabled:r===1}),children:"이전"}),a.jsxs("span",{className:"py-1.5 px-3 text-sm",style:{color:"var(--color-text-body)"},children:[r," / ",i]}),a.jsx("button",{onClick:()=>v(e=>Math.min(i,e+1)),disabled:r===i,className:V({disabled:r===i}),children:"다음"})]})]})};F.__docgenInfo={description:"",methods:[],displayName:"Table",props:{columns:{required:!1,tsType:{name:"Array",elements:[{name:"Column",elements:[{name:"T"}],raw:"Column<T>"}],raw:"Column<T>[]"},description:""},data:{required:!1,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:"",defaultValue:{value:"[]",computed:!1}},pageSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10",computed:!1}},searchable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},sortable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onRowClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: T) => void",signature:{arguments:[{type:{name:"T"},name:"row"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},striped:{defaultValue:{value:"false",computed:!1},required:!1},bordered:{defaultValue:{value:"false",computed:!1},required:!1},hover:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["VariantProps"]};export{F as T};
